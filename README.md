# Прохождение стажировки

## Pereval Rest API

[ФСТР](https://pereval.online) заказала разработать мобильное приложение для Android и IOS. Пользоваться мобильным приложением будут туристы. В горах они будут вносить данные о перевале в приложение и отправлять их в ФСТР, как только появится доступ в Интернет.
Модератор из федерации будет верифицировать и вносить в базу данных информацию, полученную от пользователей, а те в свою очередь смогут увидеть в мобильном приложении статус модерации и просматривать базу с объектами, внесёнными другими.

---
### Входное задание:
Когда турист поднимется на перевал, он сфотографирует его и внесёт нужную информацию с помощью мобильного приложения:
- _координаты объекта и его высоту;_
- _название объекта;_
- _несколько фотографий;_
- _информацию о пользователе, который передал данные о перевале:_
- _имя пользователя (ФИО строкой);_
- _почта;_
- _телефон._

После этого турист нажмёт кнопку «Отправить» в мобильном приложении. Мобильное приложение вызывает метод Pereval.

Метод submitData принимает JSON в теле запроса с информацией о перевале. Ниже находится пример такого JSON-а:
```python

{
  "beauty_title": "пер. ",
  "title": "Пхия",
  "other_titles": "Триев",
  "connect": "connect",

  "add_time": "2021-09-22 13:18:13",
  "user": {"email": "qwerty@mail.ru",     
        "fam": "Пупкин",
     "name": "Василий",
     "otc": "Иванович",
        "phone": "+7 555 55 55"}, 
 
   "coords":{
  "latitude": "45.3842",
  "longitude": "7.1525",
  "height": "1200"},
 
  "level":{"winter": "1А",
           "summer": "1А",
           "autumn": "1А",
           "spring": "1А"},
 
   "images": [{"data":"<картинка1>", "title":"Седловина"}, {"data":"<картинка>", "title":"Подъём"}]
}
```
Результат метода: JSON

1. **status** — код HTTP, целое число:
- 500 — ошибка при выполнении операции;
- 400 — Bad Request (при нехватке полей);
- 200 — успех.
2. **message** — строка:
- Причина ошибки (если она была);
- Отправлено успешно;
- Если отправка успешна, дополнительно возвращается id вставленной записи.
3. **id** — идентификатор, который был присвоен объекту при добавлении в базу данных.

Примеры:

_{ "status": 500, "message": "Ошибка подключения к базе данных","id": null}_

_{ "status": 200, "message": null, "id": 42 }_
